<html>
<head></head>

<body>
  <h1>IMask Core Demo</h1>
  <input type="text" id="input">
  <div contenteditable="true" id="ce"></div>

  <script src="dist/imask.js"></script>
  <!-- <script src="https://unpkg.com/imask"></script> -->
  <script type="text/javascript">
    const mask = [
      {
        mask: '0',
        lazy: true,
      },
    ];

    var imask = IMask(document.getElementById('input'), { mask }).on('accept', () => {
      console.log(imask.value, imask.unmaskedValue, imask.typedValue);
    });

    imask.masked.updateOptions({
      mask: mask.map((m) => ({
        ...m,
        lazy: false,
      })),
    });


    const masked = new IMask.MaskedDynamic({ mask });
    masked.updateOptions({ mask: mask.map(m => ({ ...m, lazy: false })) });

    console.log('maskedvalue', masked.value);


    document.getElementById('input').addEventListener('focus', () => {
      imask.updateOptions({
        mask: mask.map((m) => ({
          ...m,
          lazy: false,
        })),
      });
    });

    document.getElementById('input').addEventListener('blur', () => {
      imask.updateOptions({
        mask: mask.map((m) => ({
          ...m,
          lazy: true,
        })),
      });
    });

    // document.getElementById('input').addEventListener('blur', () => imask.updateOptions({lazy: true}));
    // document.getElementById('input').addEventListener('focus', () => imask.updateOptions({lazy: false}));
  </script>
</body>
</html>
